================= NO CÓDIGO HTML =================

<div class="form-group">
    <label for="taskColor">Cor da Tarefa</label>
    <div class="predefined-colors">
        <div class="color-option">
            <input type="radio" name="taskColorOption" id="colorSolides" value="#1a2540" checked>
            <label for="colorSolides" style="background-color: #1a2540;"></label>
            <span>Solides</span>
        </div>
        <div class="color-option">
            <input type="radio" name="taskColorOption" id="colorPonto" value="#808080">
            <label for="colorPonto" style="background-color: #808080;"></label>
            <span>Ponto</span>
        </div>
        <div class="color-option">
            <input type="radio" name="taskColorOption" id="colorReuniao" value="#442211">
            <label for="colorReuniao" style="background-color: #442211;"></label>
            <span>Reunião</span>
        </div>
        <input type="hidden" id="taskColor" value="#1a2540">
    </div>
</div>

================= NO CSS =================

/* Estilos para seleção de cores predefinidas */
.predefined-colors {
    display: flex;
    gap: 15px;
    margin-top: 5px;
}

.color-option {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
}

.color-option input[type="radio"] {
    display: none;
}

.color-option label {
    width: 25px;
    height: 25px;
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid transparent;
    transition: all 0.2s;
}

.color-option input[type="radio"]:checked + label {
    border-color: var(--primary-color);
    transform: scale(1.1);
}

.color-option span {
    font-size: 12px;
    color: var(--text-color);
}

================= NO JAVASCRIPT =================

// Substituir isto:
// Preview da cor da tarefa
const taskColor = document.getElementById('taskColor');
const colorPreview = document.getElementById('colorPreview');

taskColor.addEventListener('input', () => {
    colorPreview.textContent = taskColor.value;
    colorPreview.style.color = taskColor.value;
});

// Por isto:
// Gerenciar seleção das cores predefinidas
const colorOptions = document.querySelectorAll('input[name="taskColorOption"]');
const taskColorInput = document.getElementById('taskColor');

colorOptions.forEach(option => {
    option.addEventListener('change', function() {
        if (this.checked) {
            taskColorInput.value = this.value;
        }
    });
});

================= ALTERAÇÕES NAS FUNÇÕES =================

// Na função editTask, substituir:
document.getElementById('taskColor').value = task.color || '#2a3d66';
document.getElementById('colorPreview').textContent = task.color || '#2a3d66';

// Por isto:
// Definir a cor da tarefa
const taskColor = task.color || '#1a2540';
document.getElementById('taskColor').value = taskColor;

// Selecionar a opção de cor mais próxima
const colorOptions = document.querySelectorAll('input[name="taskColorOption"]');
let selectedOption = null;

// Procurar pela cor exata
colorOptions.forEach(option => {
    if (option.value === taskColor) {
        option.checked = true;
        selectedOption = option;
    }
});

// Se nenhuma opção corresponder exatamente, selecionar a primeira opção (Solides)
if (!selectedOption) {
    document.getElementById('colorSolides').checked = true;
}

// No resetForm ou limpeza do formulário:
document.getElementById('colorSolides').checked = true;
document.getElementById('taskColor').value = '#1a2540'; 